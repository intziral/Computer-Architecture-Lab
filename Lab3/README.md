## Τρίτο Εργαστήριο Αρχιτεκτονικής Προηγμένων Υπολογιστών  

_Ομάδα 15_  
**Ιωάννης Τζιραλής** ΑΕΜ: 9198  
**Ηλίας Κορομπίλης** ΑΕΜ: 8993  

### 1. Εξοικείωση με τον εξομοιωτή McPat  

#### Dynamic power και Leakage  
* Τα κυκλώματα του επεξεργαστή εκρίνουν **_δυναμική ισχύ_** (dynamic power) όταν φορτίζουν και αποφορτίζουν χωρητικά φορτία για να αλλάξουν κατάσταση. Η δυναμική ισχύς είναι ανάλογη της συνολικής χωρητικότητας φορτίου, της τάσης πηγής, της ταλάντωσης της τάσης κατά τη διάρκεια της εναλλαγής, της συχνότητας του ρολογιού και του παράγοντα δραστηριότητας.  

* Τα τρανζίστορ των κυκλωμάτων του επεξεργαστή διαρρέουν και εκρίνουν _στατική ισχύ_ (static power). Το **_ρεύμα διαρροής_** (leakage current) εξαρτάται από το πλάτος των τρανζίστορ και την τοπική κατάσταση των συσκευών. Υπάρχουν δύο μηχανισμοί διαρροής. Η _subthreshold_ διαρροή συμβαίνει επειδή ένα μικρό ρεύμα περνάει ανάμεσα στη πηγή και το drain των off-state τρανζίστορς. _Διαρροή πύλης_ (gate leakage) είναι είναι το ρεύμα που διαρρέει μέσα από το τερματικό της πύλης και διαφέρει αρκετά ανάλογα με την κατάσταση της συσκευής.  

Διαφορετικά προγράμματα στον ίδιο επεξεργαστή σίγουρα θα έχουν διαφορετικό dynamic power και ενδεχομένως να έχουν και λίγο διαφορετικό leakage power καθώς η αρχιτεκτονική του ενός μπορεί να έχει περισσότερα τρανζίστορ σε κατάσταση που να διαρρέει περισσότερο ρεύμα. Δεν έχει σημασία πόσο μεγάλο σε χρονική διάρκεια εκτέλεσης είναι το πρόγραμμα.  

#### Μπαταρία συγκεκριμένης χωρητικότητας  
Στο παράδειγμά μας έχουμε δύο διαφορετικούς επεξεργαστές: ο ένας καταναλώνει 4 Watt και ο άλλος 40 Watt. Τα δεδομένα που μας δίνει ο McPAT δεν αρκούν για να δούμε ποιος επεξεργαστής δίνει στο σύστημα μεγαλύτερη διάρκεια μπαταρίας αφού δεν γνωρίζουμε τον χρόνο εκτέλεσης του προγράμματος και άρα δεν μπορούμε να υπολογίσουμε τη συνολική κατανάλωση ενέργειας του κάθε επεξεργαστή. Τον χρόνο εκτέλεσης θα μπορούσε να μας τον δώσει ένας προσομοιωτής σαν τον gem5.

#### Σύκριση Xeon και ARM A9  
H συνολική ενέργεια που καταναλώνει ένας επεξεργαστής υπολογίζεται από τη σχέση:
> Energy = ( runtime dynamic power + total leakage power ) * Time  

Από το McPAT παίρνουμε:  
**Xeon:**  
* Runtime Dynamic = 72.9199 W
* Total leakage = 36.8319 W  
Σύνολο: 109.7 W

**ARM A9**  
* Runtime Dynamic = 2.96053 W
* Total leakage = 0.108687 W  
Σύνολο: 4.06 W

Αν ο Xeon είναι 40 φορές πιο γρήγορος από τον ARM A9 τότε καταναλώνει και λιγότερη ενέργεια κατά την εκτέλεση του προγράμματος. Παρά την διαφορά στην απόδοσή τους, αν δεν διακοπεί η λειτουργία του συστήματος μετά την ολοκλήρωση εκτέλεσης της εφαρμογής, αποδεικνύεται ότι ο ARM είναι ο πιο energy-efficient επεξεργαστής αφού το leakage power του είναι σημαντικά μικρότερο.  

### Βελτιστοποίηση γινομένου EDP  
